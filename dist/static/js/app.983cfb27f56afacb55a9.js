webpackJsonp([1],{145:function(e,t,n){function s(e){n(185)}var o=n(3)(n(149),n(196),s,null,null);e.exports=o.exports},148:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(146),o=n(147),r=n.n(o),i=n(144),a=n.n(i),l=n(145),u=n.n(l);s.a.use(r.a),s.a.use(a.a),s.a.config.productionTip=!1,new s.a({el:"#app",template:"<App/>",components:{App:u.a}})},149:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(155),o=n.n(s),r=n(154),i=n.n(r),a=n(0),l=n.n(a),u=n(193),c=n.n(u),d=n(191),m=n.n(d),v=n(16),h=n(183),f=(n.n(h),["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"]);t.default={data:function(){return{ready:!1,clipped:!0,drawer:!0,fixed:!1,miniVariant:!1,date:l()().format("MMMM Do YYYY"),title:"",selectedRooms:this.loadSelectedRooms(),schedules:[],isSignedIn:!1,gapiClient:void 0,currentUnixTime:(new Date).getTime(),loadFromCache:!0}},asyncComputed:{rooms:{get:function(){return this.isSignedIn?window.gapi.client.calendar.calendarList.list({maxResults:250}).then(function(e){var t=e.result.items.filter(function(e){return e.id.includes("resource")});return t.sort(function(e,t){return e.summary<t.summary?-1:e.summary>t.summary?1:0}),t}):[]},default:[],lazy:!0}},components:{Schedules:c.a,Clock:m.a},methods:{loadSelectedRooms:function(){var e=localStorage.getItem("selected-rooms");return e?JSON.parse(e):[]},updateRoomSchedules:function(){var e=this,t=[],n=this.selectedRooms.length,s=new Date;s.setHours(7,0,0,0);var o=new Date;o.setHours(19,0,0,0),this.selectedRooms.forEach(function(r){window.gapi.client.calendar.events.list({timeMin:s.toISOString(),timeMax:o.toISOString(),showDeleted:!1,singleEvents:!0,maxResults:250,orderBy:"startTime",calendarId:r.id}).then(function(s){var o=s.result.items;n-=1,t.push({room:r,schedule:o}),0===n&&(t.sort(function(e,t){return e.room.summary<t.room.summary?-1:e.room.summary>t.room.summary?1:0}),e.schedules=i()(t)),e.currentUnixTime=(new Date).getTime()})})},toggleRoomSelected:function(e){var t=this;-1===this.selectedRooms.findIndex(function(t){return t.summary===e.summary})?this.selectedRooms.push(e):this.selectedRooms=this.selectedRooms.filter(function(t){return t.summary!==e.summary}),localStorage.setItem("selected-rooms",o()(this.selectedRooms)),this.selectedRooms.length>0&&(this.updateRoomSchedules(),this.roomUpdateInterval&&clearInterval(this.roomUpdateInterval),this.roomUpdateInterval=setInterval(function(){t.updateRoomSchedules()},3e4))},handleClientLoad:function(){window.gapi.load("client:auth2",this.initClient)},initClient:function(){var e=this;window.gapi.client.init({discoveryDocs:f,clientId:"1038995557573-cre796lpfvffqrcirdd9elka3evbapl8.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/calendar.readonly"}).then(function(){window.gapi.auth2.getAuthInstance().isSignedIn.listen(e.updateSigninStatus),e.updateSigninStatus(window.gapi.auth2.getAuthInstance().isSignedIn.get()),e.ready=!0})},updateSigninStatus:function(e){this.isSignedIn=!!e},invertColor:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.i(v.a)(e,t)},handleAuthClick:function(e){window.gapi.auth2.getAuthInstance().signIn(),this.$forceUpdate()},handleSignoutClick:function(e){window.gapi.auth2.getAuthInstance().signOut(),localStorage.removeItem("selected-rooms"),this.schedules=[],this.$forceUpdate()}},mounted:function(){this.handleClientLoad()},updated:function(){var e=this;this.handleClientLoad(),this.selectedRooms.length>0&&this.loadFromCache&&(this.updateRoomSchedules(),this.roomUpdateInterval=setInterval(function(){e.updateRoomSchedules()},3e4),this.loadFromCache=!1)},beforeDestroy:function(){clearInterval(this.roomUpdateInterval)}}},150:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),o=n.n(s);t.default={data:function(){return{clock:o()().format(" h:mm:ss")}},methods:{moment:function(e){return o()(e)},setTime:function(){this.clock=o()().format("h:mm:ss")}},mounted:function(){var e=this;this.ticker=setInterval(function(){e.setTime()},1e3)},beforeDestroy:function(){clearInterval(this.ticker)}}},151:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["event","room"],data:function(){return{show:!1}},mounted:function(){var e=this;setTimeout(function(){e.show=!0},1e3)}}},152:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),o=n.n(s),r=n(16),i=n(194),a=n.n(i),l=n(192),u=n.n(l);t.default={data:function(){return{dayStart:(new Date).setHours(8,0,0,0),dayEnd:(new Date).setHours(18,0,0,0),showHelper:!1,helperRoom:"",helperEvent:""}},components:{Timeline:a.a,Helper:u.a},computed:{dayLength:function(){return this.dayEnd-this.dayStart}},props:["schedules","currentUnixTime"],methods:{moment:function(e){return o()(e)},eventDuration:function(e){return o.a.duration(o()(e.end.dateTime).diff(o()(e.start.dateTime))).humanize()},eventTop:function(e){return(new Date(e.start.dateTime).getTime()-this.dayStart)/this.dayLength*100+"%"},eventHeight:function(e){var t=new Date(e.start.dateTime).getTime();return(new Date(e.end.dateTime).getTime()-t)/this.dayLength*100+"%"},eventRunning:function(e){var t=o()(e.start.dateTime),n=o()(e.end.dateTime);return o()().isBetween(t,n)},eventsDuringGivenEvent:function(e,t){var n=0;return t.forEach(function(t){var s=o()(t.start.dateTime),r=o()(t.end.dateTime),i=o()(e.start.dateTime),a=o()(e.end.dateTime);(i.isBetween(s,r,null,"[)")||a.isBetween(s,r,null,"(]"))&&(n+=1)}),n},eventWidth:function(e,t){return 100/this.eventsDuringGivenEvent(e,t)+"%"},eventLeft:function(e,t){var n=(this.eventsDuringGivenEvent(e,t),[]);t.forEach(function(t,s){var r=o()(t.start.dateTime),i=o()(t.end.dateTime),a=o()(e.start.dateTime),l=o()(e.end.dateTime);(a.isBetween(r,i,null,"[)")||l.isBetween(r,i,null,"(]"))&&n.push(t)});var s=n.findIndex(function(t){return t===e});return s+=1,100-100/n.length*s+"%"},invertColor:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.i(r.a)(e,t)},roomTaken:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.schedule.find(function(e){var n=o()(e.start.dateTime),s=o()(e.end.dateTime);return o()().add(t,"minutes").isBetween(n,s)})},currentTimeHeight:function(){return((new Date).getTime()-this.dayStart)/this.dayLength*100+"%"},checkForEventsStarting:function(){var e=this,t=[];this.schedules.forEach(function(e){e.schedule.forEach(function(e){o()(e.start.dateTime).isBetween(o()(),o()().add(10,"minutes"))&&t.push(e)})}),t.length>0&&(t.forEach(function(t,n){setTimeout(function(){e.setHelperEvent(t.location,t.summary),e.showHelper=!0},15e3*n)}),setTimeout(function(){e.showHelper=!1},15e3*t.length),console.log(t))},setHelperEvent:function(e,t){this.helperEvent=t,this.helperRoom=e}},mounted:function(){var e=this;setInterval(function(){e.$forceUpdate()},5e3);var t=this.moment().minute(),n=10*Math.round(t/10),s=this.moment().add(n-t,"minutes");setTimeout(function(){console.log("checking"),setInterval(function(){e.dayStart=(new Date).setHours(8,0,0,0),e.dayEnd=(new Date).setHours(18,0,0,0),e.checkForEventsStarting()},6e5)},s.diff(o()().subtract(1,"minute")))}}},153:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},16:function(e,t,n){"use strict";var s=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=void 0,s=void 0;if("r"===e.substr(0,1)){var o="rgb(255,255,255)".split("(")[1].split(")")[0],r=o.split(",");s=r[0],r[1],r[2]}else n=e;if(0===n.indexOf("#")&&(n=n.slice(1)),3===n.length&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),6!==n.length)throw new Error("Invalid HEX color.");var i=s||parseInt(n.slice(0,2),16),a=parseInt(n.slice(2,4),16),l=parseInt(n.slice(4,6),16);return t?.299*i+.587*a+.114*l>186?"#000000":"#FFFFFF":(i=(255-i).toString(16),a=(255-a).toString(16),l=(255-l).toString(16),"#"+padZero(i)+padZero(a)+padZero(l))};t.a=s},183:function(e,t){},184:function(e,t){},185:function(e,t){},186:function(e,t){},187:function(e,t){},188:function(e,t){},189:function(e,t,n){function s(e){return n(o(e))}function o(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var r={"./af":29,"./af.js":29,"./ar":36,"./ar-dz":30,"./ar-dz.js":30,"./ar-kw":31,"./ar-kw.js":31,"./ar-ly":32,"./ar-ly.js":32,"./ar-ma":33,"./ar-ma.js":33,"./ar-sa":34,"./ar-sa.js":34,"./ar-tn":35,"./ar-tn.js":35,"./ar.js":36,"./az":37,"./az.js":37,"./be":38,"./be.js":38,"./bg":39,"./bg.js":39,"./bn":40,"./bn.js":40,"./bo":41,"./bo.js":41,"./br":42,"./br.js":42,"./bs":43,"./bs.js":43,"./ca":44,"./ca.js":44,"./cs":45,"./cs.js":45,"./cv":46,"./cv.js":46,"./cy":47,"./cy.js":47,"./da":48,"./da.js":48,"./de":51,"./de-at":49,"./de-at.js":49,"./de-ch":50,"./de-ch.js":50,"./de.js":51,"./dv":52,"./dv.js":52,"./el":53,"./el.js":53,"./en-au":54,"./en-au.js":54,"./en-ca":55,"./en-ca.js":55,"./en-gb":56,"./en-gb.js":56,"./en-ie":57,"./en-ie.js":57,"./en-nz":58,"./en-nz.js":58,"./eo":59,"./eo.js":59,"./es":61,"./es-do":60,"./es-do.js":60,"./es.js":61,"./et":62,"./et.js":62,"./eu":63,"./eu.js":63,"./fa":64,"./fa.js":64,"./fi":65,"./fi.js":65,"./fo":66,"./fo.js":66,"./fr":69,"./fr-ca":67,"./fr-ca.js":67,"./fr-ch":68,"./fr-ch.js":68,"./fr.js":69,"./fy":70,"./fy.js":70,"./gd":71,"./gd.js":71,"./gl":72,"./gl.js":72,"./gom-latn":73,"./gom-latn.js":73,"./he":74,"./he.js":74,"./hi":75,"./hi.js":75,"./hr":76,"./hr.js":76,"./hu":77,"./hu.js":77,"./hy-am":78,"./hy-am.js":78,"./id":79,"./id.js":79,"./is":80,"./is.js":80,"./it":81,"./it.js":81,"./ja":82,"./ja.js":82,"./jv":83,"./jv.js":83,"./ka":84,"./ka.js":84,"./kk":85,"./kk.js":85,"./km":86,"./km.js":86,"./kn":87,"./kn.js":87,"./ko":88,"./ko.js":88,"./ky":89,"./ky.js":89,"./lb":90,"./lb.js":90,"./lo":91,"./lo.js":91,"./lt":92,"./lt.js":92,"./lv":93,"./lv.js":93,"./me":94,"./me.js":94,"./mi":95,"./mi.js":95,"./mk":96,"./mk.js":96,"./ml":97,"./ml.js":97,"./mr":98,"./mr.js":98,"./ms":100,"./ms-my":99,"./ms-my.js":99,"./ms.js":100,"./my":101,"./my.js":101,"./nb":102,"./nb.js":102,"./ne":103,"./ne.js":103,"./nl":105,"./nl-be":104,"./nl-be.js":104,"./nl.js":105,"./nn":106,"./nn.js":106,"./pa-in":107,"./pa-in.js":107,"./pl":108,"./pl.js":108,"./pt":110,"./pt-br":109,"./pt-br.js":109,"./pt.js":110,"./ro":111,"./ro.js":111,"./ru":112,"./ru.js":112,"./sd":113,"./sd.js":113,"./se":114,"./se.js":114,"./si":115,"./si.js":115,"./sk":116,"./sk.js":116,"./sl":117,"./sl.js":117,"./sq":118,"./sq.js":118,"./sr":120,"./sr-cyrl":119,"./sr-cyrl.js":119,"./sr.js":120,"./ss":121,"./ss.js":121,"./sv":122,"./sv.js":122,"./sw":123,"./sw.js":123,"./ta":124,"./ta.js":124,"./te":125,"./te.js":125,"./tet":126,"./tet.js":126,"./th":127,"./th.js":127,"./tl-ph":128,"./tl-ph.js":128,"./tlh":129,"./tlh.js":129,"./tr":130,"./tr.js":130,"./tzl":131,"./tzl.js":131,"./tzm":133,"./tzm-latn":132,"./tzm-latn.js":132,"./tzm.js":133,"./uk":134,"./uk.js":134,"./ur":135,"./ur.js":135,"./uz":137,"./uz-latn":136,"./uz-latn.js":136,"./uz.js":137,"./vi":138,"./vi.js":138,"./x-pseudo":139,"./x-pseudo.js":139,"./yo":140,"./yo.js":140,"./zh-cn":141,"./zh-cn.js":141,"./zh-hk":142,"./zh-hk.js":142,"./zh-tw":143,"./zh-tw.js":143};s.keys=function(){return Object.keys(r)},s.resolve=o,e.exports=s,s.id=189},190:function(e,t,n){e.exports=n.p+"static/img/helios_clippy_512x512.ab71332.png"},191:function(e,t,n){function s(e){n(188)}var o=n(3)(n(150),n(199),s,null,null);e.exports=o.exports},192:function(e,t,n){function s(e){n(186)}var o=n(3)(n(151),n(197),s,null,null);e.exports=o.exports},193:function(e,t,n){function s(e){n(184)}var o=n(3)(n(152),n(195),s,null,null);e.exports=o.exports},194:function(e,t,n){function s(e){n(187)}var o=n(3)(n(153),n(198),s,null,null);e.exports=o.exports},195:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"schedule-container",style:{gridTemplateColumns:"repeat("+e.schedules.length+", 1fr)",marginBottom:e.$vuetify.breakpoint.mdAndUp?"4em":"3em",height:e.$vuetify.breakpoint.mdAndUp?"calc(100vh - 64px - 6rem)":"calc(100vh - 36px - 6.4rem)"}},[e.showHelper?n("helper",{attrs:{room:e.helperRoom,event:e.helperEvent}}):e._e(),e._v(" "),n("timeline"),e._v(" "),n("div",{staticClass:"current-time",style:{top:e.currentTimeHeight()}}),e._v(" "),e._l(e.schedules,function(t,s){return n("div",{key:s,staticClass:"room",style:{gridColumn:s+1}},[n("div",{staticClass:"room-heading",style:{backgroundColor:t.room.backgroundColor,color:e.invertColor(t.room.backgroundColor)}},[e._v("\n            "+e._s(t.room.summary)+"\n        ")]),e._v(" "),n("div",{staticClass:"room-availability",style:{fontSize:e.$vuetify.breakpoint.mdAndUp?"1.5em":"1em",height:e.$vuetify.breakpoint.mdAndUp?"4rem":"3em"}},[n("div",{staticClass:"room-status",style:{backgroundColor:e.roomTaken(t)?"#b9c1bd":t.room.backgroundColor,color:e.invertColor(e.roomTaken(t)?"#b9c1bd":t.room.backgroundColor)}},[n("div",[e._v("Now")]),e._v(" "),e.$vuetify.breakpoint.mdAndUp?n("div",[e._v(e._s(e.roomTaken(t)?"Taken":"Available"))]):e._e()]),e._v(" "),n("div",{staticClass:"room-status",style:{backgroundColor:e.roomTaken(t,30)?"#b9c1bd":t.room.backgroundColor,color:e.invertColor(e.roomTaken(t,30)?"#b9c1bd":t.room.backgroundColor)}},[n("div",[e._v("30 Min")]),e._v(" "),e.$vuetify.breakpoint.mdAndUp?n("div",[e._v(e._s(e.roomTaken(t,30)?"Taken":"Available"))]):e._e()]),e._v(" "),n("div",{staticClass:"room-status",style:{backgroundColor:e.roomTaken(t,60)?"#b9c1bd":t.room.backgroundColor,color:e.invertColor(e.roomTaken(t,60)?"#b9c1bd":t.room.backgroundColor)}},[n("div",[e._v("1 hr")]),e._v(" "),e.$vuetify.breakpoint.mdAndUp?n("div",[e._v(e._s(e.roomTaken(t,60)?"Taken":"Available"))]):e._e()])]),e._v(" "),e._l(t.schedule,function(s,o){return n("div",{key:o,staticClass:"event",style:{top:e.eventTop(s),height:e.eventHeight(s),backgroundColor:t.room.backgroundColor,color:e.invertColor(t.room.backgroundColor),opacity:e.eventRunning(s)?1:.85,border:e.eventRunning(s)?"2px solid #57c2b2":null,width:e.eventWidth(s,t.schedule),left:e.eventLeft(s,t.schedule),flexDirection:e.$vuetify.breakpoint.mdAndUp?null:"row",justifyContent:e.$vuetify.breakpoint.mdAndUp?null:"space-between"}},[n("p",{staticClass:"event-summary"},[e._v(e._s("private"===s.visibility?"Private":s.summary))]),e._v(" "),n("div",{staticClass:"event-time",style:{justifyContent:e.$vuetify.breakpoint.mdAndUp?null:"flex-end"}},[e._v("\n                "+e._s(e.moment(s.start.dateTime).format("h:mm"))+"\n                 -\n                "+e._s(e.moment(s.end.dateTime).format("h:mm"))+"\n            ")]),e._v(" "),e.$vuetify.breakpoint.mdAndUp?n("p",{staticClass:"event-duration"},[e._v("\n                "+e._s(e.eventDuration(s))+"\n            ")]):e._e()])})],2)})],2)},staticRenderFns:[]}},196:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.ready?n("v-app",{attrs:{dark:""}},[n("v-navigation-drawer",{attrs:{persistent:"","mini-variant":e.miniVariant,clipped:e.clipped,"enable-resize-watcher":""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[e.rooms?n("v-list",e._l(e.rooms,function(t,s){return n("v-list-tile",{key:s,style:{backgroundColor:t.backgroundColor,color:e.invertColor(t.backgroundColor)},attrs:{value:"true"},on:{click:function(n){e.toggleRoomSelected(t)}}},[n("v-list-tile-action",[n("span",[e._v(e._s(t.summary.substr(0,1)))])]),e._v(" "),n("v-list-tile-content",[n("v-list-tile-title",{domProps:{textContent:e._s(t.summary)}})],1)],1)})):e._e()],1),e._v(" "),n("v-toolbar",{attrs:{fixed:""}},[n("v-toolbar-side-icon",{attrs:{dark:""},on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),e._v(" "),e.drawer?n("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){t.stopPropagation(),e.miniVariant=!e.miniVariant}}},[n("v-icon",{domProps:{innerHTML:e._s(e.miniVariant?"chevron_right":"chevron_left")}})],1):e._e(),e._v(" "),n("v-toolbar-title",{domProps:{textContent:e._s(e.title)}}),e._v(" "),n("div",{staticClass:"hidden-sm-and-down",staticStyle:{"font-size":"1.5em"}},[e._v("\n      "+e._s(e.date)+"\n    ")]),e._v(" "),n("v-spacer"),e._v(" "),n("clock",{staticClass:"hidden-sm-and-down"}),e._v(" "),n("v-spacer"),e._v(" "),e.isSignedIn?n("v-btn",{ref:"signoutButton",attrs:{id:"signout-button",dark:""},on:{click:e.handleSignoutClick}},[e._v("Sign Out")]):n("v-btn",{ref:"authorizeButton",attrs:{id:"authorize-button",dark:""},on:{click:e.handleAuthClick}},[e._v("Authorize")])],1),e._v(" "),n("main",[n("v-slide-y-transition",{attrs:{mode:"out-in"}},[n("schedules",{attrs:{schedules:e.schedules,currentUnixTime:e.currentUnixTime}})],1)],1)],1):e._e()},staticRenderFns:[]}},197:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"helper"},[s("transition",{attrs:{name:"fade-and-scale"}},[e.show?s("img",{attrs:{src:n(190),alt:""}}):e._e()]),e._v(" "),s("transition",{attrs:{name:"fade-in-delay"}},[e.show?s("div",{staticClass:"popup"},[e._v("\n      It looks like the "),s("b",[e._v(e._s(e.event))]),e._v(" meeting is starting soon in "),s("b",[e._v(e._s(e.room))]),e._v(".\n    ")]):e._e()])],1)},staticRenderFns:[]}},198:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"timeline"},[n("p",[e._v("8:00")]),e._v(" "),n("p",[e._v("-")]),e._v(" "),n("p",[e._v("9:00")]),e._v(" "),n("p",[e._v("-")]),e._v(" "),n("p",[e._v("10:00")]),e._v(" "),n("p",[e._v("-")]),e._v(" "),n("p",[e._v("11:00")]),e._v(" "),n("p",[e._v("-")]),e._v(" "),n("p",[e._v("12:00")]),e._v(" "),n("p",[e._v("-")]),e._v(" "),n("p",[e._v("1:00")]),e._v(" "),n("p",[e._v("-")]),e._v(" "),n("p",[e._v("2:00")]),e._v(" "),n("p",[e._v("-")]),e._v(" "),n("p",[e._v("3:00")]),e._v(" "),n("p",[e._v("-")]),e._v(" "),n("p",[e._v("4:00")]),e._v(" "),n("p",[e._v("-")]),e._v(" "),n("p",[e._v("5:00")]),e._v(" "),n("p",[e._v("-")]),e._v(" "),n("p",[e._v("6:00")])])}]}},199:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"clock"},[e._v("\n    "+e._s(e.clock)+"\n")])},staticRenderFns:[]}}},[148]);
//# sourceMappingURL=app.983cfb27f56afacb55a9.js.map